!function(){"use strict";angular.module("ui.toggle",[]).value("$toggleSuppressError",!1).constant("toggleConfig",{on:"On",off:"Off",size:"",btnonstyle:"btn-primary",btnoffstyle:"btn-default",style:""}).controller("ToggleController",["$scope","$attrs","$interpolate","$log","toggleConfig","$toggleSuppressError",function(e,t,n,l,o,s){var a=this,i={$setViewValue:angular.noop};angular.forEach(["on","off","size","btnonstyle","btnoffstyle","style"],function(l,s){a[l]=angular.isDefined(t[l])?s<6?n(t[l])(e.$parent):e.$parent.$eval(t[l]):o[l]}),this.init=function(n){i=n,a.computeStyle(),i.$render=function(){a.toggle()},i.$viewChangeListeners.push(function(){e.$eval(t.ngChange)})},this.computeStyle=function(){var t=a.element.find("label");angular.element(t[0]).html(a.on),angular.element(t[1]).html(a.off);var n=a.element.find("span"),l=a.width||Math.max(t[0].offsetWidth,t[1].offsetWidth)+n[0].offsetWidth/2,o=(a.height||Math.max(t[0].offsetHeight,t[1].offsetHeight),a.element.find("div")),s=o[0].offsetWidth;o[1].offsetHeight;e.wrapperStyle={},s<l?e.wrapperStyle.width=l+"px":e.wrapperStyle.width=s+"px",e.onClass=[a.btnonstyle,a.size,"toggle-on"],e.offClass=[a.btnoffstyle,a.size,"toggle-off"],e.handleClass=[a.size,"toggle-handle"]},this.toggle=function(){angular.isDefined(i.$viewValue)?this.isOn=i.$viewValue:this.isOn=!1,this.isOn?e.wrapperClass=[a.btnonstyle,a.size,a.style]:e.wrapperClass=[a.btnoffstyle,"off ",a.size,a.style]},e.onSwitch=function(e){i.$setViewValue(!i.$viewValue),i.$render()},angular.forEach(["ngModel"],function(n){var l=e.$parent.$watch(t[n],function(e){i.$render()});e.$parent.$on("$destroy",function(){l()})}),angular.forEach(["on","off","size","btnonstyle","btnoffstyle","style"],function(e){t.$observe(e,function(t){a[e]!==t&&(a[e]=t,a.computeStyle())})})}]).directive("toggle",function(){return{restrict:"E",transclude:!0,template:'<div class="toggle btn" ng-class="wrapperClass" ng-style="wrapperStyle" ng-click="onSwitch()"><div class="toggle-group"><label class="btn" ng-class="onClass"></label><label class="btn active" ng-class="offClass"></label><span class="btn btn-default" ng-class="handleClass"></span></div></div>',scope:{bindModel:"=ngModel"},require:["toggle","ngModel"],controller:"ToggleController",controllerAs:"toggle",link:function(e,t,n,l){var o=l[0],s=l[1];o.element=t,o.init(s)}}})}();